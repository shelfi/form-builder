"use strict";angular.module("formBuilder",["ngAnimate","ngTouch","ngSanitize","ui.router","ngMaterial"]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl",controllerAs:"ctrl"}),e.otherwise("/")}]),angular.module("formBuilder").controller("MainCtrl",function(){this.structure={row:[{inputContainer:{label:"Disabled",input:{type:"checkbox",ngModel:"data.disabled"}}},{inputContainer:{label:"Name",input:{type:"text",name:"name",ngModel:"data.name",ngDisabled:"data.disabled === true",required:"required",validationTexts:{required:"Name is required."}}}},{inputContainer:{label:"Surname",input:{type:"text",ngModel:"data.surname",ngDisabled:"data.disabled === true"}}}]},this.data={disabled:!1,name:"Emre",surname:"Terzi"}}),function(){angular.module("formBuilder").provider("sfInput",function(){var t={text:'<input type="text">',hidden:'<input type="hidden">',password:'<input type="password">',checkbox:'<input type="checkbox">',file:'<input type="file">',email:'<input type="email">',date:'<input type="date">',datetime:'<input type="datetime">',datetimeLocal:'<input type="datetime-local">',month:'<input type="month">',number:'<input type="number">',range:'<input type="range">',search:'<input type="search">',tel:'<input type="tel">',time:'<input type="time">',url:'<input type="url">',week:'<input type="week">',color:'<input type="color">',textarea:"<textarea></textarea>",radio:'<input type="radio">',select:"<select></select>"};this.add=function(e,r){t[e]=r},this.$get=function(){return{getTemplate:function(e){if(!t[e])throw"Error: Input not found! Input name: "+e;return t[e]},getElement:function(t){var e=this.getTemplate(t.type),r=angular.element("<div />"),n=angular.element(e);return angular.forEach(t,function(t,e){-1===["type","multi"].indexOf(e)&&(angular.isString(t)||angular.isFunction(t))&&n.attr(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),angular.isFunction(t)?"event_"+e+"()":t)}),r.append(n),t.validationTexts&&angular.forEach(t.validationTexts,function(e,n){var a=angular.element("<code />");a.attr("ng-show","form."+t.name+".$error."+n),a.html('{{ "'+e+'" }}'),r.append(a)}),{multi:!1,element:r.children()}}}}}).directive("sfInput",["$compile","sfInput",function(t,e){return{restrict:"E",scope:{attrs:"=",data:"=ngModel",form:"="},link:function(r,n){angular.forEach(r.attrs,function(t,e){angular.isFunction(t)&&(r["event_"+e]=t)});var a=e.getElement(r.attrs);n.replaceWith(a.element),t(a.element)(r)}}}])}(),function(){angular.module("formBuilder").run(["$templateCache",function(t){t.put("row",'<div layout="column"><div ng-repeat="item in structure"><sf-form-builder structure="item" ng-model="data" form="form"></sf-form-builder></div></div>'),t.put("column",'<div layout="row"><div ng-repeat="item in structure"><sf-form-builder structure="item" ng-model="data" form="form"></sf-form-builder></div></div>'),t.put("inputContainer",'<md-input-container><label>{{ label }}</label><sf-input attrs="input" ng-model="data" form="form"></sf-input></md-input-container>'),t.put("lines",'<div><h2>{{ title }}</h2><sf-form-builder ng-repeat="item in data[items]" structure="repeat" ng-model="item" form="form"></sf-form-builder><md-button ng-click="add()">Add</md-button><md-button ng-click="removeAll()">Remove all</md-button></div>')}]).provider("sfFormBuilder",function(){this.$get=["$templateCache",function(t){return{getTemplate:function(e){var r=t.get(e);if(!r){if(/<[a-z][\s\S]*>/i.test(e))return e;throw"Error: Template not found! Template name: "+e}return r}}}]}).directive("sfFormBuilder",["$compile","sfFormBuilder",function(t,e){return{restrict:"E",scope:{structure:"=",data:"=ngModel",form:"=",live:"@"},link:function(r,n){var a=function(a,i){if(angular.isObject(i)){var o=e.getTemplate(a),u=r.$new(!0);angular.forEach(i,function(t,e){u[e]=t}),u.structure=i,u.data=r.data,r.$watch("data",function(t){u.data=t},!0),u.form=r.form,"lines"===a&&(u.add=function(){u.data[i.items].push({})},u.removeAll=function(){u.data[i.items]=[]},u.remove=function(t){u.data[i.items].splice(t,1)});var l=angular.element(o);n.append(l),t(l)(u)}},i=function(){n.html(""),angular.forEach(r.structure,function(t,e){angular.isArray(t)&&"row"!==e&&"column"!==e?angular.forEach(t,function(t){a(e,t)}):a(e,t)})};r.live||(r.live="false"),"true"===r.live?r.$watch("structure",function(){i()},!0):i()}}}])}(),angular.module("formBuilder").run(["$templateCache",function(t){t.put("app/main/main.html",'<md-content layout="column" layout-fill=""><a href="https://github.com/shelfi/form-builder"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a><section class="jumbotron"><h1>Shelfi Form Builder</h1><p class="lead">Create an awesome form easily!</p><p><a class="btn btn-lg btn-success" ng-href="https://github.com/shelfi/form-builder">Further readings!</a></p></section><div class="demo" layout-align="center" layout="row" layout-padding=""><div flex=""><h2>Structure</h2><pre>{{ ctrl.structure | json }}</pre></div><div flex=""><h2>Data</h2><pre>{{ ctrl.data | json }}</pre></div><div flex=""><h2>Form</h2><form name="form"><sf-form-builder structure="ctrl.structure" ng-model="ctrl.data" form="form"></sf-form-builder></form></div></div><footer><md-toolbar layout="row" layout-align="center center"><p>We â™¥ <a href="http://shelfi.net">Shelfi</a></p></md-toolbar></footer></md-content>')}]);